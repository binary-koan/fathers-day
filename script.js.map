{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/main.coffee","src/scripts/dot.coffee","src/scripts/moving-state.coffee","src/scripts/state.coffee","src/scripts/util.coffee","src/states/1.coffee","src/states/2.coffee","src/states/3.coffee","src/states/4.coffee","src/states/5.coffee","src/states/6.coffee","src/states/7.coffee"],"names":[],"mappings":"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","file":"script.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","paper.install window\n\n{ setState } = require('./scripts/util')\nInitialState = require('./states/1')\n\ncontainer = document.querySelector('#container')\nstartPanel = document.querySelector('.banner.start')\nstartButton = document.querySelector('#start-button')\nrestartButton = document.querySelector('#restart-button')\n\nstartButton.addEventListener 'click', ->\n  setState(new InitialState())\n  startPanel.classList.add('hidden')\n  container.classList.remove('hidden')\n\nrestartButton.addEventListener 'click', ->\n  location.reload()\n\nwindow.onload = ->\n  startButton.classList.remove('hidden')\n  paper.setup 'container'\n","{ s } = require('./util')\r\n\r\nmodule.exports =\r\nclass Dot extends Group\r\n  constructor: (position) ->\r\n    @circle = new Path.Circle\r\n      position: s(0, 0)\r\n      radius: 30\r\n      fillColor: 'white'\r\n    @face = new Raster(source: 'images/faces-01.png')\r\n    @face.onLoad = =>\r\n      @face.scale(0.7)\r\n      @face.onLoad = null\r\n    super(children: [@circle, @face], position: position)\r\n\r\n  setFace: (face) ->\r\n    switch face\r\n      when ''\r\n        @face.source = null\r\n      when ':|'\r\n        @face.source = 'images/faces-01.png'\r\n      when ':)'\r\n        @face.source = 'images/faces-02.png'\r\n      when ';)'\r\n        @face.source = 'images/faces-03.png'\r\n","{ setState, loadBackground, p, r, s } = require('../scripts/util')\r\nState = require('../scripts/state')\r\n\r\nmodule.exports =\r\nclass MovingState extends State\r\n  constructor: (obj) ->\r\n    super(obj.imageId, obj.dotPosition)\r\n    @_hoveredText = obj.hoveredText\r\n    @_nextState = obj.nextState\r\n    obj.path.unshift(obj.dotPosition)\r\n    @_path = new Path(obj.path)\r\n\r\n  onMouseMove: (event) ->\r\n    if @dot.contains(event.point) and not @_hovered\r\n      @_hovered = true\r\n      @dot.setFace ':)'\r\n      @showText @_hoveredText\r\n\r\n  sequence: -> [\r\n    {\r\n      endCondition: => @_hovered\r\n      action: (event) =>\r\n        unless @_initialX\r\n          @_initialX = @dot.position.x - Math.sin(event.time) * 10\r\n        @dot.position.x = @_initialX + Math.sin(event.time) * 10\r\n    }\r\n    {\r\n      path: @_path\r\n    }\r\n    {\r\n      action: =>\r\n        setState(new (@_nextState)())\r\n    }\r\n  ]\r\n","{ loadBackground, p } = require('./util')\r\nDot = require('./dot')\r\n\r\nmodule.exports =\r\nclass State\r\n  constructor: (imageID, dotPosition) ->\r\n    @background = loadBackground('background' + imageID)\r\n    @foreground = loadBackground('foreground' + imageID)\r\n    @dot = new Dot(dotPosition)\r\n    @layer = new Layer([@background, @dot, @foreground])\r\n\r\n    @background.opacity = 0\r\n    @foreground.opacity = 0\r\n    @dot.opacity = 0\r\n    @_transitionStep = 0\r\n\r\n  onMouseMove: ->\r\n\r\n  onFrame: (event) ->\r\n    if @_transitionStep == 0\r\n      if @background.opacity < 1\r\n        @background.opacity += 0.05\r\n        return\r\n      else\r\n        @foreground.opacity = 1\r\n        @_transitionStep = 1\r\n    else if @_transitionStep == 1\r\n      if @dot.opacity < 1\r\n        @dot.opacity += 0.05\r\n        return\r\n      else\r\n        @_transitionStep = 2\r\n\r\n    if not @_sequenceIndex?\r\n      @_sequence = @sequence()\r\n      @_sequenceFinished = (@_sequence.length == 0)\r\n      @_sequenceIndex = 0\r\n\r\n    @_continueSequence(event)\r\n    @_continueText() if @_showingText\r\n\r\n  nextFrame: ->\r\n\r\n  sequence: -> []\r\n\r\n  _continueSequence: (event) ->\r\n    part = @_sequence[@_sequenceIndex]\r\n    if @_sequenceFinished\r\n      @nextFrame(event)\r\n    else if @_sequenceWaitTime?\r\n      if @_sequenceWaitTime < part.waitTime\r\n        @_sequenceWaitTime += event.delta\r\n      else\r\n        @_sequenceWaitTime = null\r\n        @_runNextInSequence event\r\n    else if part.path\r\n      @_continuePath(part, event)\r\n    else if part.endCondition\r\n      if part.endCondition()\r\n        @_runNextInSequence event\r\n      else\r\n        part.action(event)\r\n\r\n  _continuePath: (part, event) ->\r\n    @_offset += @_step\r\n    if @_offset >= (part.path.length - @_step)\r\n      @_runNextInSequence(event)\r\n\r\n    @dot.position = part.path.getLocationAt(@_offset).point\r\n    part.during(part.path, event) if part.during\r\n\r\n  _runNextInSequence: (event) ->\r\n    @_sequenceIndex++\r\n    if @_sequenceIndex >= @_sequence.length\r\n      @_sequenceFinished = true\r\n    else\r\n      part = @_sequence[@_sequenceIndex]\r\n      if part.waitTime\r\n        @_sequenceWaitTime = 0 if part.waitTime\r\n      else if part.path\r\n        @_setupPath(part)\r\n      part.setup() if part.setup\r\n      part.action(event) if part.action\r\n\r\n  _setupPath: (part) ->\r\n    part.path.smooth()\r\n    @_offset = 0\r\n    @_step = part.path.length / 30\r\n\r\n  showText: (text) ->\r\n    @_textItem ?= @_setupText()\r\n    @_textItem.opacity = 1.75\r\n    @_textItem.content = text\r\n    @_textItem.point = p(\r\n      @dot.bounds.center.x - (@_textItem.bounds.width / 2)\r\n      @dot.bounds.top - (@_textItem.bounds.height / 2)\r\n    )\r\n    @_showingText = true\r\n\r\n  _setupText: ->\r\n    new PointText\r\n      fillColor: 'white'\r\n      fontFamily: 'sans-serif'\r\n      fontWeight: 'bold'\r\n      fontSize: 16\r\n      shadowColor: 'black'\r\n      shadowBlur: 2\r\n\r\n  _continueText: ->\r\n    if @_textItem.opacity == 0\r\n      @_showingText = false\r\n    else\r\n      @_textItem.point.y -= 0.3\r\n      @_textItem.opacity = Math.max(@_textItem.opacity - 0.015, 0)\r\n","window.mouseTool = new Tool()\r\nexports.setState =\r\nsetState = (state) ->\r\n  view.onFrame = state.onFrame.bind(state)\r\n  mouseTool.onMouseMove = state.onMouseMove.bind(state)\r\n  view.activeLayer = state.layer\r\n\r\nexports.loadBackground =\r\nloadBackground = (source) ->\r\n  image = new Raster(source, view.center)\r\n  image.resizeToFill = ->\r\n    image.position = view.center\r\n    scale = Math.max(view.size.width / image.width, view.size.height / image.height)\r\n    image.size = new Size(image.width * scale, image.height * scale)\r\n  image.onLoad = ->\r\n    image.resizeToFill()\r\n  image\r\n\r\nexports.p =\r\np = -> new Point(arguments...)\r\n\r\nexports.r =\r\nr = -> new Rectangle(arguments...)\r\n\r\nexports.s =\r\ns = -> new Size(arguments...)\r\n","{ setState, loadBackground, p, r, s } = require('../scripts/util')\r\nState = require('../scripts/state')\r\nDot = require('../scripts/dot')\r\n\r\nSecondState = require('./2')\r\n\r\nmodule.exports =\r\nclass InitialState extends State\r\n  constructor: ->\r\n    super('1', view.center)\r\n    # @dot.opacity = 0\r\n    # @dot.scale(0.2)\r\n    @dot.bringToFront()\r\n\r\n  onMouseMove: (event) ->\r\n    if @_sequenceFinished && @dot.contains(event.point)\r\n      @showText 'Wheeee!'\r\n      @_stateChanging = true\r\n\r\n  sequence: -> [\r\n    {\r\n      action: =>\r\n        # @dot.scale 1.15\r\n        # @dot.opacity += 0.1\r\n      endCondition: =>\r\n        @dot.opacity >= 1\r\n    }\r\n    {\r\n      action: => @showText 'Hi!'\r\n      waitTime: 2\r\n    }\r\n    {\r\n      setup: => @dot.setFace(':)')\r\n      action: => @showText \"I'm going on an adventure!\"\r\n      waitTime: 2\r\n    }\r\n    {\r\n      setup: => @dot.setFace(';)')\r\n      action: => @showText 'See if you can catch me!'\r\n      waitTime: 2\r\n    }\r\n    {\r\n      path: new Path([ p(500, 300), p(700, 100), p(800, 200), p(750, 250) ])\r\n      during: (path) =>\r\n        if Math.abs(@_offset - (path.length / 2)) < @_step / 2\r\n          @foreground.bringToFront()\r\n    }\r\n  ]\r\n\r\n  nextFrame: (event) ->\r\n    if @_stateChanging\r\n      if @dot.position.x > 900\r\n        setState(new SecondState())\r\n      else\r\n        @dot.position.x += 10\r\n    else\r\n      @dot.position.x = 750 + Math.sin(event.time) * 10\r\n","{ p } = require('../scripts/util')\r\nMovingState = require('../scripts/moving-state')\r\n\r\nThirdState = require('./3')\r\n\r\nmodule.exports =\r\nclass SecondState extends MovingState\r\n  constructor: ->\r\n    super\r\n      imageId: '2'\r\n      dotPosition: p(230, 75)\r\n      hoveredText: 'Too slow!'\r\n      path: [ p(300, 25), p(400, 50), p(300, 300) ]\r\n      nextState: ThirdState\r\n","{ p } = require('../scripts/util')\r\nMovingState = require('../scripts/moving-state')\r\n\r\nFourthState = require('./4')\r\n\r\nmodule.exports =\r\nclass ThirdState extends MovingState\r\n  constructor: ->\r\n    super\r\n      imageId: '3'\r\n      dotPosition: p(900, 250)\r\n      hoveredText: 'Hah!'\r\n      path: [ p(500, 150), p(300, -50) ]\r\n      nextState: FourthState\r\n","{ p } = require('../scripts/util')\r\nMovingState = require('../scripts/moving-state')\r\n\r\nFifthState = require('./5')\r\n\r\nmodule.exports =\r\nclass FourthState extends MovingState\r\n  constructor: ->\r\n    super\r\n      imageId: '4'\r\n      dotPosition: p(200, 590)\r\n      hoveredText: \"Aww ... guess I'm too fast!\"\r\n      path: [ p(500, 300), p(-50, 100) ]\r\n      nextState: FifthState\r\n    @dot.rotate(-10)\r\n","{ p } = require('../scripts/util')\r\nMovingState = require('../scripts/moving-state')\r\n\r\nSixthState = require('./6')\r\n\r\nmodule.exports =\r\nclass FifthState extends MovingState\r\n  constructor: ->\r\n    super\r\n      imageId: '5'\r\n      dotPosition: p(930, 240)\r\n      hoveredText: 'No! My camouflage!'\r\n      path: [ p(500, 300), p(100, 250) ]\r\n      nextState: SixthState\r\n","{ p } = require('../scripts/util')\r\nMovingState = require('../scripts/moving-state')\r\n\r\nSeventhState = require('./7')\r\n\r\nmodule.exports =\r\nclass SixthState extends MovingState\r\n  constructor: ->\r\n    super\r\n      imageId: '6'\r\n      dotPosition: p(140, 250)\r\n      hoveredText: 'That was close!'\r\n      path: [ p(500, 200), p(750, -50) ]\r\n      nextState: SeventhState\r\n","{ setState, loadBackground, p, r, s } = require('../scripts/util')\r\nState = require('../scripts/state')\r\nDot = require('../scripts/dot')\r\n\r\nmodule.exports =\r\nclass SeventhState extends State\r\n  constructor: ->\r\n    super('7', p(485, 240))\r\n\r\n  onMouseMove: (event) ->\r\n    if @dot.contains(event.point) and not @_hovered\r\n      @_hovered = true\r\n\r\n  sequence: -> [\r\n    {\r\n      endCondition: => @_hovered\r\n      action: (event) =>\r\n        @dot.position.x = 500 + Math.sin(event.time) * 10\r\n    }\r\n    {\r\n      path: new Path([ p(485, 240), p(485, 200) ])\r\n    }\r\n    {\r\n      action: =>\r\n        @showText 'Aww ... you got me.'\r\n      waitTime: 3\r\n    }\r\n    {\r\n      action: =>\r\n        @dot.setFace ':)'\r\n        @showText 'Thanks for playing!'\r\n      waitTime: 3\r\n    }\r\n    {\r\n      action: =>\r\n        document.querySelector('.banner.end').classList.remove('hidden')\r\n    }\r\n  ]\r\n"]}